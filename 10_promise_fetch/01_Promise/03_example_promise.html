<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Example promise</title>
</head>

<body>
    <button id="btnGetUser">get user by id 1</button>
     <script>

        btnGetUser.onclick=()=>{
            fetch("https://jsonplaceholder.typicode.com/users/1")
            .then(repsonse=> repsonse.json())
            .then(user=>{
                // document.writeln(user);
                console.dir(user);
                let p=document.createElement("p");
                p.innerText=`${user.name} ${user.address.city}`;
                document.body.append(p);
            }
            )
            .catch(error=>console.error(error));
        }

        const x = 6;
        const y = 0;
        const calcPromise = new Promise(function (resolve, reject) {
            if (y === 0) {
                reject("Divizion by zero...");
            } else {
                const rezult = x / y;
                resolve(rezult);
            }
        });

        // calcPromise.then(
        //     (result) => {
        //         console.log('rezult=', result);

        //     },
        //     (error) => {
        //         console.log("ERROR!!! ", error);
        //     }
        // );


        calcPromise
            .then(data => {
                console.log("data=", data);
                return data * 2;
            })
            .then(
                finalresult => console.log("rezult*2=", finalresult)
                // ,
                // error => console.log("ERROR!!! ", error)
            )
            .catch(error => console.log("ERROR!!! ", error));

        console.log("After declarationn promise...");


        let urlfakeUsers = "https://jsonplaceholder.typicode.com/users";
        fetch(urlfakeUsers)
            .then(
                result => {
                    return result.json();
                },
             
            )
            .then(users=>console.log(users))
            .catch(error=>console.log(error));
    </script>
</body>

</html>